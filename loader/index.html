<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SK ALL IN-ONE Loader</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <!-- CUSTOM TITLE BAR -->
    <div class="title-bar">
        <div class="drag-region">
            <span class="brand">SK</span> ALL-IN-ONE
        </div>
        <div class="window-controls">
            <button onclick="window.api.minimize()" class="control-btn">—</button>
            <button onclick="window.api.close()" class="control-btn close-btn">×</button>
        </div>
    </div>

    <!-- AUTO-UPDATER OVERLAY -->
    <div id="update-overlay" class="overlay hidden">
        <div class="update-card">
            <h2 class="glow-text-cyan">SYSTEM UPDATE</h2>
            <p id="update-version">New version detected</p>
            <div id="update-news-prev" class="news-preview"></div>
            <div class="progress-container">
                <div id="update-progress" class="progress-bar"></div>
            </div>
            <p id="update-status">Click below to begin download</p>
            <button id="update-btn" class="action-btn update-confirm" onclick="startUpdateDownload()">DOWNLOAD & INSTALL</button>
        </div>
    </div>

    <!-- 1. BOOT SCREEN -->
    <div id="boot-screen" class="active">
        <div class="boot-container">
            <h1 id="boot-status">Initializing...</h1>
            <div class="spinner-container">
                <div class="boot-spinner"></div>
            </div>

            <div class="progress-wrapper">
                <div id="boot-progress"></div>
            </div>
        </div>
    </div>

    <!-- 2. LOGIN SCREEN -->
    <div id="login-screen" class="screen">
        <div class="login-card">
            <div class="card-header">
                <h2 class="glow-text-cyan">AUTHENTICATION</h2>
                <p>Enter your license key below</p>
            </div>
            <div class="input-group">
                <input type="text" id="license-key" placeholder="ENTER-LICENSE-KEY-HERE-XXX">
            </div>
            <button onclick="handleLogin()" id="login-btn">VALIDATE LICENSE</button>
            <div id="login-loader" class="spinner hidden"></div>
        </div>
    </div>

    <!-- 3. MAIN DASHBOARD -->
    <div id="main-dashboard" class="screen">
        <nav class="top-nav">
            <div class="nav-left">
                <!-- Updated Navigation Buttons -->
                <button onclick="showTab('home')" id="btn-home" class="nav-btn active">HOME</button>
                <button onclick="showTab('games')" id="btn-games" class="nav-btn">GAMES</button>
                <button onclick="showTab('hwid')" id="btn-hwid" class="nav-btn">HWID</button>
                <button onclick="showTab('spoofing')" id="btn-spoofing" class="nav-btn">SPOOFING</button>
                <button onclick="showTab('settings')" id="btn-settings" class="nav-btn">SETTINGS</button>
            </div>

            <div class="nav-right user-box">
                <div class="user-meta">
                    <span id="user-expiry">EXP: --</span>
                    <span class="status-dot"></span>
                </div>
                <img src="imgs/default-profile.png" id="user-pic" class="glow-border">
                <input type="file" id="profile-upload" style="display: none;" accept="image/*">
            </div>
        </nav>

        <div class="content-area">

            <!-- Tab: Home -->
            <div id="home-tab" class="tab-content active">
                <div class="welcome-panel">
                    <h2 class="glow-text-cyan">WELCOME TO SK ALL-IN-ONE</h2>
                    <p>Select a module from the navigation bar to begin.</p>
                    <div class="terminal-box">
                        <div class="typewriter">> User session validated...</div>
                        <div class="typewriter">> System ready...</div>
                    </div>
                </div>
            </div>

            <!-- Tab: Games -->
            <div id="games-tab" class="tab-content">
                <div class="steam-grid">
                    <div class="game-card card-green"
                         data-images="./imgs/fivem1.png, ./imgs/fivem2.png, ./imgs/fivem3.png"
                         onclick="launchGame('FiveM')">
                        <img class="card-img">
                        <div class="card-overlay"><span>Launch FiveM</span></div>
                    </div>
                    <div class="game-card card-gold"
                         data-images="./imgs/gtav1.png, ./imgs/gtav2.png, ./imgs/gtav3.png"
                         onclick="launchGame('GTA V')">
                        <img class="card-img">
                        <div class="card-overlay"><span>Launch GTA V</span></div>
                    </div>
                    <div class="game-card card-blue"
                         data-images="./imgs/cod1.png, ./imgs/cod2.png, ./imgs/cod3.png"
                         onclick="launchGame('Warzone')">
                        <img class="card-img">
                        <div class="card-overlay"><span>Launch Warzone</span></div>
                    </div>
                    <div class="game-card card-red"
                         data-images="./imgs/cs2_alt1.png, ./imgs/cs2_alt2.png, ./imgs/cs2_alt3.png"
                         onclick="launchGame('CS2')">
                        <img class="card-img">
                        <div class="card-overlay"><span>Launch CS2</span></div>
                    </div>
                </div>
            </div>

            <!-- Tab: HWID -->
            <div id="hwid-tab" class="tab-content">
                <div class="spoofer-panel">
                    <h3 class="glow-text-cyan">Hardware Identity</h3>
                    <div class="hwid-terminal-box">
                        <p>HWID: <span id="hwid-id" class="code-text">3492387659</span></p>
                        <p>SERIAL: <span id="serial-id" class="code-text">240639063603906</span></p>
                        <p>GPU_ID: <span id="gpu-id" class="code-text">PCI\VEN_1002...</span></p>
                    </div>

                    <button id="reset-btn" class="reset-btn" onclick="requestHWIDReset()">
                        HWID RESET
                    </button>

                    <!-- New Admin Section -->
                    <h3 class="glow-text-cyan" style="margin-top: 30px; color: var(--gold); text-shadow: 0 0 10px rgba(255, 204, 0, 0.4);">Admin Request Panel</h3>

                    <div id="admin-terminal" class="admin-terminal-box">
                        <span class="log-entry">> SYSTEM_IDLE: WAITING FOR REQUEST...</span>
                    </div>

                    <button id="admin-request-btn" class="admin-req-btn" onclick="sendAdminRequest()">
                        REQUEST HWID RESET
                    </button>

                    <p id="hwid-status" style="font-size: 10px; margin-top: 15px; letter-spacing: 1px; color: #444;"></p>
                </div>
            </div>



            <!-- Tab: Spoofing -->
            <div id="spoofing-tab" class="tab-content">
                <div class="spoofer-panel">
                    <div class="panel-header">
                        <h3 class="glow-text-red">HARDWARE MASKING</h3>
                        <p>Protect your identity before launching any games.</p>
                    </div>

                    <!-- ADD THIS LOADER ELEMENT HERE -->
                    <div id="spoof-progress" class="hidden">
                        <div class="spinner"></div>
                        <p>Processing...</p>
                    </div>

                    <div class="spoofer-status-box">
                        <div class="status-row">
                            <span>Status:</span>
                            <span id="spoofer-status" class="inactive">NOT ACTIVE</span>
                        </div>
                    </div>
                    <div class="spoofer-controls">
                        <button class="action-btn spoof-btn" onclick="startSpoofing()">SPOOF HWID</button>
                    </div>
                </div>
            </div>

            <!-- Tab: Settings -->
            <div id="settings-tab" class="tab-content">
                <div class="settings-layout">
                    <div class="news-section">
                        <h3 class="glow-text-cyan">GLOBAL_NEWS</h3>
                        <div class="terminal-box">
                            <div id="news-feed-text" class="typewriter">> Fetching latest updates...</div>
                        </div>
                    </div>
                    <div class="settings-panel">
                        <h3 class="glow-text-cyan">CLIENT_SETTINGS</h3>
                        <p class="desc">Version: 1.0.0 (Latest)</p>
                        <label class="switch-container">
                            <input type="checkbox" id="auto-launch">
                            <span class="slider"></span> Auto-Launch on Start
                        </label>
                    </div>
                </div>
            </div>

        </div> <!-- End Content Area -->

        <script src="ui.js"></script>
</body>
</html>
